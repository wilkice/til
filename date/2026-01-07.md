1. TCP is stream oriented, so when we are implementing network protocol, we need to pay attention to TCP sticking or half packet. Why does it happens, as TCP connection is just like a pipe, it doesn't have a clear sperate of each packet you send.
## What may cause this?
1. on sender, if Nagle is enabled, then it may keep small packet in buffer and wait more packet to send as a whole packet. How to solve this? just use TCP_NO_DELAY.
2. on receiver, we need to handle it carefully. Otherwise we may read multiple packet as one packet or only read part of a packet. The most common and effective way is add a length field before the real data. just like the tcp header length and http content-length. we can also use a spliter to do this such as use `|` or `\n`. But when there are need to appear in the data, things get complicated.
## About Nagle 
By the way, in today's world, it's better to disable it as latency plays a more important role. And the bandwith today is not tight as before.